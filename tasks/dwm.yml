- name: Install dwm dependencies
  become: true
  community.general.xbps:
    name: 
    - libX11-devel
    - libXft-devel
    - libXinerama-devel
    state: present

- name: dwm checkout
  git:
    repo: https://github.com/Wolfi/dwm.git
    dest: "{{ lookup('env', 'HOME') }}/personal/dwm"

- name: Run make and install as root
  community.general.make:
    chdir: "{{ lookup('env', 'HOME') }}/personal/dwm"
    targets:
    - clean
    - install
  become: true

